# CREATE VM
VBoxManage createvm --name newvm --register

VBoxManage openmedium dvd /path/file.ext

VBoxManage createvdi --filename proxy.vdi --size 10000 --register
OR
VBoxManage createhd --format VDI --size 10000 ??? 

VBoxManage modifyvm newvm --memory "256MB" -nic1 bridged --bridgeadapter1 eth0 --hda proxy.vdi --boot1 dvd --vrdp on --vrdpport 3399 
# ! --hda SEEMS TO NOT WORK IN v3.*

# CHANGE PORT FOR VRDP REMOTE DESKTOP
VBoxManage modifyvm 'server' --vrdp on --vrdpport 3399

# START VM #
su - robin -c 'VBoxManage startvm "SVN Server" -type vrdp'

# SNAPSHOTS
VBoxManage snapshot Autoritel take 'first snap'  --description 'describe if you want'

# DISCARD CURRENT SNAPSHOT, REVERT TO LAST SNAPSHOT 
VBoxManage snapshot Autoritel discardcurrent --state

# DISCARD OLD SNAPSHOTS THAT YOU DON'T WANT ANYMORE
VBoxManage snapshot Autoritel discard 'first snap'

# CLONE VDI #
# source.vdi needs to be FULL PATH sometimes, if not in VDI folder
VBoxManage clonevdi source.vdi target.vdi
#after clone, vbox adds a new line to /etc/udev/rules.d/70-persistent-net.rules:
SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="00:30:1b:81:70:8e", ATTR{type}=="1", KERNEL=="eth*", NAME="eth1"
#so i made a vdi file without the line above with eth0, so that vbox will add the line above making the new eth0

OR

cp Master.vdi Clone.vdi
VBoxManage internalcommands setvdiuuid Clone.vdi

VBoxManage modifyvm newvm --memory 256 --nic1 bridged --bridgeadapter1 eth0 --boot1 dvd --vrdp on --vrdpport 3399 
VBoxManage storagectl spielwiese --name "IDE Controller" --add ide
VBoxManage storageattach spielwiese --storagectl "IDE Controller" --port 0 --device 0 --type hdd --medium /media/hdd/VMs/spielwiese/spielwiese.vdi

# BRIDGE NETWORKING
VBoxManage modifyvm 'server' --nic1 bridged --bridgeadapter1 eth0
